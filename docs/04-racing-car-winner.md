# 4단계 - 자동차 경주(우승자)
***
## 코드 리뷰
> PR 링크:
> 
## 나의 학습 목표
- 3단계에서 설계한 객체를 최대한 유지하며 새로운 기능을 추가한다.
  - 실무에서 기존 레거시 코드가 있는 상태에서 새로운 기능을 추가하는 것과 같은 상황 연출
- TDD 사이클(Red-Green-Refactor)을 준수하여 기능을 구현한다.
- 의도가 드러나는 클래스명과 메서드명을 사용한다.
- 테스트 가능한 구조로 설계하여 단위 테스트 작성을 용이하게 한다.
## 기능 요구사항
- 각 자동차에 이름을 부여할 수 있다.
  - 이름은 5자를 초과할 수 없다.
- 전진하는 자동차를 출력할 때 자동차 이름을 같이 출력한다.
- 자동차 이름은 쉼표(,)를 기준으로 구분한다.
- 자동차 경주 게임을 완료한 후 누가 우승했는지를 알려준다.
  - 우승자는 한명 이상일 수 있다.
## 프로그래밍 요구사항
- indent depth를 2를 넘지 않도록 구현한다. 1까지만 허용
- 함수(메소드)의 길이가 15라인을 넘어가지 않도록 구현한다.
  - 함수가 한 가지 책임만 가지도록 구현
- 모든 로직에 단위 테스트를 구현한다. 단 UI(System.out, System.in) 로직은 제외
  - 핵심 로직을 구현하는 코드와 UI를 담당하는 로직을 구분한다.
  - UI 로직을 `InputView`, `ResultView`와 같은 클래스를 추가해 분리한다.
- 자바 코드 컨벤션을 지키면서 프로그래밍한다.
    - Code Style은 [intellij idea Code Style.Java](https://www.jetbrains.com/help/idea/code-style-java.html)을 따른다.
- `else` 예약어를 쓰지 않는다.
- `switch/case`를 사용하지 않는다.
## 프로그래밍 제약사항
- 배열 대신 `Java Collection API`를 사용한다.
- `Java Stream API`를 사용하지 않는다.
- 단위 테스트 구현할 때 `Mockito`와 같은 `Mock`을 사용하지 않는다.
## commit 컨벤션
- git의 commit 단위는 기능 목록 단위로 추가한다.
## 구현 기능 목록
### 도메인
- [x] 자동차 이름 
  - [x] 유효한 이름이면 생성
  - [x] 이름이 비어있다면 예외 발생
  - [x] 이름이 5자를 초과하면 예외 발생
- [x] 자동차 거리
  - [x] 기본 거리는 0
  - [x] 이동 시 거리는 1 증가
- [x] 랜덤 숫자
  - [x] 값이 0이상 9이하일 때만 생성
  - [x] 값이 범위를 벗어나면 예외 발생
  - [x] 특정 값 이상인지 비교
- [x] 자동차
  - [x] 이름을 기반으로 생성
  - [x] 이동 조건을 만족하면 전진
  - [x] 이동 조건을 만족하지 않으면 정지
  - [x] 현재 상태를 스냅샷으로 변환해 제공
- [x] 자동차 그룹
  - [x] 이름 목록을 기반으로 여러 자동차를 생성
  - [x] 자동차가 1대 미만이면 예외 발생
  - [x] 이름에 중복이 있는 경우 예외 발생
  - [x] 그룹 내 모든 자동차를 이동시킬 수 있음
  - [x] 자동차 상태를 스냅샷 목록으로 조회
- [x] 자동차 스냅샷
  - [x] 자동차의 이름과 거리로 생성
  - [x] 특정 거리와 동일한지 비교
- [x] 라운드
  - [x] 최대 라운드 수로 생성
  - [x] 최대 라운드 수가 1 미만이면 예외 발생
  - [x] 첫 라운드는 1부터 시작
  - [x] 다음 라운드로 진행 가능
  - [x] 모든 라운드 종료 여부 확인
  - [x] 현재 라운드 번호 조회
- [x] 라운드 결과
  - [x] 해당 시점의 자동차 스냅샷 목록 저장
  - [x] 스냅샷 목록이 비어있으면 예외 발생
  - [x] 스냅샷 목록 조회
  - [x] 가장 멀리 이동한 자동차 이름 목록 조회
- [x] 경주 기록
  - [x] 각 라운드 결과를 순서대로 기록
  - [x] 전체 라운드 수 조회
  - [x] 기록된 모든 라운드 결과 조회
  - [x] 마지막 라운드 기준 우승자 조회
  - [x] 경주 기록이 없을 때 우승자 조회 시 예외발생
- [x] 경주 게임
  - [x] 자동차 그룹과 이동 정책을 기반으로 게임 생성
  - [x] 지정된 라운드 수만큼 경주 진행
  - [x] 각 라운드마다 자동차들을 이동
  - [x] 매 라운드의 결과를 경주 기록에 저장
  - [x] 최종 경주 기록 반환